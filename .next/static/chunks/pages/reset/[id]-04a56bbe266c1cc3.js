(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{3874:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset/[id]",function(){return r(7493)}])},7453:function(n,e,r){"use strict";var t=r(5893),s=(r(7294),r(1532)),o=r.n(s);e.Z=function(){return(0,t.jsx)("div",{className:"device",children:(0,t.jsx)("div",{className:o().main,children:(0,t.jsx)("div",{className:o().body,children:(0,t.jsx)("p",{children:"Please Switch to a Bigger Screen to use this Dashboard"})})})})}},7493:function(n,e,r){"use strict";r.r(e);var t=r(5893),s=r(682),o=r(1608),a=r(1555),i=r(4011),c=r(9301),u=r(5005),d=r(6968),l=r(7536),p=r(4416),f=r(4743),h=r(1163),v=r(7453),m=r(7294);function w(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function x(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){w(n,e,r[e])}))}return n}e.default=(0,p.$j)((function(n){return x({},n,{user:n.user})}))((function(n){var e=n.user,r=(0,h.useRouter)(),p=r.query.id,w=(0,m.useState)({type:"",message:""}),j=w[0],y=w[1];(0,m.useEffect)((function(){(null===e||void 0===e?void 0:e.token)&&r.push("/dashboard")}),[r,null===e||void 0===e?void 0:e.token]);var b=(0,l.cI)(),_=b.register,g=b.handleSubmit;return(0,t.jsx)(s.Z,{children:!0!==(null===e||void 0===e?void 0:e.loggedIn)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{}),(0,t.jsx)(o.Z,{className:"login",children:(0,t.jsxs)(a.Z,{xs:12,md:{span:4,offset:4},children:[(0,t.jsx)("h3",{className:"text-center",children:"NEW PASSWORD"}),j&&(0,t.jsx)(i.Z,{variant:j.type,children:j.message}),(0,t.jsxs)(c.Z,{onSubmit:g((function(n){(null===n||void 0===n?void 0:n.password1)===(null===n||void 0===n?void 0:n.password2)?(0,f.mc)(p,null===n||void 0===n?void 0:n.password1).then((function(n){r.push("/")})):y({type:"danger",message:"Passwords don't match"})})),children:[(0,t.jsx)(c.Z.Group,{controlId:"formBasicPassword1",children:(0,t.jsx)(c.Z.Control,x({type:"password",placeholder:"Enter Password"},_("password1")))}),(0,t.jsx)(c.Z.Group,{controlId:"formBasicPassword2",className:"mt-2",children:(0,t.jsx)(c.Z.Control,x({type:"password",placeholder:"Confirm Password"},_("password2")))}),(0,t.jsx)("div",{className:"d-grid mt-3",children:(0,t.jsx)(u.Z,{variant:"dark",type:"submit",children:"Submit"})})]})]})})]}):(0,t.jsx)(d.Z,{animation:"border",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}))},4743:function(n,e,r){"use strict";r.d(e,{x4:function(){return c},o9:function(){return d},mc:function(){return p}});var t=r(4051),s=r.n(t),o=r(2369);function a(n,e,r,t,s,o,a){try{var i=n[o](a),c=i.value}catch(u){return void r(u)}i.done?e(c):Promise.resolve(c).then(t,s)}function i(n){return function(){var e=this,r=arguments;return new Promise((function(t,s){var o=n.apply(e,r);function i(n){a(o,t,s,i,c,"next",n)}function c(n){a(o,t,s,i,c,"throw",n)}i(void 0)}))}}function c(n){return u.apply(this,arguments)}function u(){return(u=i(s().mark((function n(e){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.post("/users/signin",e);case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return l.apply(this,arguments)}function l(){return(l=i(s().mark((function n(e){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.post("/users/resetPassword",{email:e});case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n,e){return f.apply(this,arguments)}function f(){return(f=i(s().mark((function n(e,r){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.patch("/users/".concat(e),{password:r});case 2:return t=n.sent.data,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},2369:function(n,e,r){"use strict";var t=r(9669),s=r.n(t),o=r(3454).env.NEXT_PUBLIC_API_URL,a=s().create({baseURL:o,headers:{Accept:"application/json","Content-Type":"application/json"}});e.Z=a},1532:function(n){n.exports={main:"Small_main__tmHvQ",body:"Small_body__E8T_J"}}},function(n){n.O(0,[772,353,536,263,774,888,179],(function(){return e=3874,n(n.s=e);var e}));var e=n.O();_N_E=e}]);