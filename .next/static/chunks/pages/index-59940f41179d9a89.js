(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3486)}])},7453:function(n,r,e){"use strict";var t=e(5893),s=(e(7294),e(1532)),a=e.n(s);r.Z=function(){return(0,t.jsx)("div",{className:"device",children:(0,t.jsx)("div",{className:a().main,children:(0,t.jsx)("div",{className:a().body,children:(0,t.jsx)("p",{children:"Please Switch to a Bigger Screen to use this Dashboard"})})})})}},3486:function(n,r,e){"use strict";e.r(r);var t=e(5893),s=e(682),a=e(1608),i=e(1555),o=e(4011),c=e(9301),u=e(5005),l=e(6968),d=e(7536),p=e(4416),f=e(4743),h=e(1163),m=e(7453),v=e(7294);function x(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function j(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){x(n,r,e[r])}))}return n}r.default=(0,p.$j)((function(n){return j({},n,{user:n.user})}))((function(n){var r=(0,v.useState)(""),e=r[0],p=r[1],x=n.user,b=(0,h.useRouter)();(0,v.useEffect)((function(){(null===x||void 0===x?void 0:x.token)&&b.push("/dashboard")}),[b,null===x||void 0===x?void 0:x.token]);var w=(0,d.cI)(),y=w.register,_=w.handleSubmit;return(0,t.jsx)(s.Z,{children:!0!==(null===x||void 0===x?void 0:x.loggedIn)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(a.Z,{className:"login",children:(0,t.jsxs)(i.Z,{xs:12,md:{span:4,offset:4},children:[(0,t.jsx)("h3",{className:"text-center",children:"LOGIN"}),e&&(0,t.jsx)(o.Z,{variant:"danger",children:e}),(0,t.jsxs)(c.Z,{onSubmit:_((function(r){(0,f.x4)(r).then((function(r){n.dispatch({type:"SET_USER",payload:r.data}),b.push("/dashboard")})).catch((function(n){p("Incorrect username or password")}))})),children:[(0,t.jsxs)(c.Z.Group,{controlId:"formBasicEmail",children:[(0,t.jsx)(c.Z.Label,{children:"Email"}),(0,t.jsx)(c.Z.Control,j({type:"email",placeholder:"Enter username"},y("email")))]}),(0,t.jsxs)(c.Z.Group,{controlId:"formBasicPassword",children:[(0,t.jsx)(c.Z.Label,{children:"Password"}),(0,t.jsx)(c.Z.Control,j({type:"password",placeholder:"Password"},y("password")))]}),(0,t.jsx)("div",{className:"d-grid mt-3",children:(0,t.jsx)(u.Z,{variant:"dark",type:"submit",children:"Submit"})}),(0,t.jsx)("div",{className:"d-grid mt-3",children:(0,t.jsx)(u.Z,{variant:"dark",onClick:function(n){return b.push("/reset")},children:"Forgot Password"})})]})]})})]}):(0,t.jsx)(l.Z,{animation:"border",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}))},4743:function(n,r,e){"use strict";e.d(r,{x4:function(){return c},o9:function(){return l},mc:function(){return p}});var t=e(4051),s=e.n(t),a=e(2369);function i(n,r,e,t,s,a,i){try{var o=n[a](i),c=o.value}catch(u){return void e(u)}o.done?r(c):Promise.resolve(c).then(t,s)}function o(n){return function(){var r=this,e=arguments;return new Promise((function(t,s){var a=n.apply(r,e);function o(n){i(a,t,s,o,c,"next",n)}function c(n){i(a,t,s,o,c,"throw",n)}o(void 0)}))}}function c(n){return u.apply(this,arguments)}function u(){return(u=o(s().mark((function n(r){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.post("/users/signin",r);case 2:return e=n.sent.data,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return(d=o(s().mark((function n(r){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.post("/users/resetPassword",{email:r});case 2:return e=n.sent.data,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n,r){return f.apply(this,arguments)}function f(){return(f=o(s().mark((function n(r,e){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.patch("/users/".concat(r),{password:e});case 2:return t=n.sent.data,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},2369:function(n,r,e){"use strict";var t=e(9669),s=e.n(t),a=e(3454).env.NEXT_PUBLIC_API_URL,i=s().create({baseURL:a,headers:{Accept:"application/json","Content-Type":"application/json"}});r.Z=i},1532:function(n){n.exports={main:"Small_main__tmHvQ",body:"Small_body__E8T_J"}}},function(n){n.O(0,[772,353,536,263,774,888,179],(function(){return r=8581,n(n.s=r);var r}));var r=n.O();_N_E=r}]);